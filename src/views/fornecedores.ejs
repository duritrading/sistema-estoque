<%- include('partials/header', {
  titulo: 'Fornecedores',
  subtitulo: 'GestÃ£o de fornecedores e parceiros',
  user: locals.user
}) %>

<div class="card">
  <h2>âž• Cadastrar Fornecedor</h2>
  <form action="/fornecedores" method="POST">
    <div class="form-row">
      <div class="form-group">
        <label for="codigo">CÃ³digo</label>
        <input type="text" id="codigo" name="codigo">
      </div>
      <div class="form-group">
        <label for="nome">Nome/RazÃ£o Social *</label>
        <input type="text" id="nome" name="nome" required>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label for="contato">Contato</label>
        <input type="text" id="contato" name="contato">
      </div>
      <div class="form-group">
        <label for="telefone">Telefone</label>
        <input type="text" id="telefone" name="telefone">
      </div>
    </div>
    <div class="form-row">
      <div class="form-group">
        <label for="email">E-mail</label>
        <input type="email" id="email" name="email">
      </div>
      <div class="form-group">
        <label for="cnpj">CNPJ</label>
        <input type="text" id="cnpj" name="cnpj">
      </div>
    </div>
    <div class="form-group">
      <label for="endereco">EndereÃ§o</label>
      <input type="text" id="endereco" name="endereco">
    </div>
    <div class="form-group">
      <label for="observacao">ObservaÃ§Ãµes</label>
      <textarea id="observacao" name="observacao" rows="3"></textarea>
    </div>
    <button type="submit" class="btn">Cadastrar Fornecedor</button>
  </form>
</div>

<div class="card">
  <h2>ðŸ“‹ Fornecedores Cadastrados</h2>
  <table class="table">
    <thead>
  <tr>
    <th>CÃ³digo</th>
    <th>Nome</th>
    <th>Contato</th>
    <th>Telefone</th>
    <th>E-mail</th> <th>AÃ§Ãµes</th>  </tr>
</thead>
    <tbody>
      <% fornecedores.forEach(f => { %>
        <tr>
          <td><%= f.codigo || '-' %></td>
          <td><strong><%= f.nome %></strong></td>
          <td><%= f.contato || '-' %></td>
          <td><%= f.telefone || '-' %></td>
          <td><%= f.email || '-' %></td>
          <td> <form action="/fornecedores/delete/<%= f.id %>" method="POST" style="display:inline;" onsubmit="return confirm('Tem certeza que deseja excluir este fornecedor?');">
            <button type="submit" class="btn btn-danger" style="padding: 5px 10px; font-size: 12px;">Excluir</button>
          </form>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>

</div>

<%- include('partials/footer') %>